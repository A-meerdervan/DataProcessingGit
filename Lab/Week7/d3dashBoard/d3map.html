<!DOCTYPE html>
<html>
<head>
  <!-- Scripts were taken from: -->
  <!-- http://blog.basilesimon.fr/2014/04/24/draw-simple-maps-with-no-effort-with-d3-js-and-datamaps-js/ -->
  <script src="d3.min.js"></script><style type="text/css"></style>
  <script src="topojson.v1.min.js"></script>
  <script src="datamaps.all.js"></script>
  <link rel="stylesheet" type="text/css" href="d3map.css"/>

</head>
<body>

<h2>The fertility rate per Europian country in children per woman</h1>


<div id="container" style="position: relative; width: 500px; height: 400px;"></div>
<div id="legend">
  <dl>
  <dt>1.3 </dt><dd style="background-color:#b10026">&nbsp;</dd>  <dt>1.7 </dt><dd style="background-color:#feb24c">&nbsp;</dd><br>
  <dt>1.4 </dt><dd style="background-color:#e31a1c">&nbsp;</dd>  <dt>1.8 </dt><dd style="background-color:#fed976">&nbsp;</dd><br> 
  <dt>1.5 </dt><dd style="background-color:#fc4e2a">&nbsp;</dd>  <dt>1.9 </dt><dd style="background-color:#ffeda0">&nbsp;</dd><br>
  <dt>1.6 </dt><dd style="background-color:#fd8d3c">&nbsp;</dd>  <dt>2.0 </dt><dd style="background-color:#ffffcc">&nbsp;</dd><br>
</dl>
</div>

<svg class="lineChart"></svg>

<div id = "populationModel">
  <p class = "populationText">current population in millions </p>
  <p class = "newPopulationText">population after 200 years</p>
  <h1 id = "population"> 40.05</h1>
  <h1 id = "newPopulation"> 1.0</h1>
</div>


<h4>A note on the choice of the colour encoding</h3>
<p>
fertility data was taken from:
<a href="http://data.worldbank.org/indicator/SP.DYN.TFRT.IN">fertility rates source</a>
population size data was taken from:
<a href="http://data.worldbank.org/indicator/SP.POP.TOTL">population sizes source</a>

The full data range was only 8 incremental values. From the readings of this course it became clear that from 6 to about 12 color encodings can be easily visualy separeated, therefore each data level could be assigned a colour of it's own. The color's were selected from <a href="http://colorbrewer2.org/">Color Brewer</a> <br>
The choice was made to select two hue's (yellow and red) for better visual separation. The colour red was used because it is symbolic for danger or something going the wrong way while light yellow is considered neutral. The dark red was assigned to the lowest fertility rate because a value of 1.3 means that the population is almost halved each generation, leading to extinction. The higest rate is 2.0 this rate also leads to extinction but much slower. (a number of people die before reproducing)
On the right a graph is drawn. It has the context present of all european countries and shows the clear trend of the lowering of the fertility rate per country. When a country is clicked, contrast is used to show the line that belongs to that country. <br>
On the bottom the results of a model that I made, are vissible. The model calculates the expected population in two hundered years. it is assumed that people have kids around 25 and that about 2.1 fertility rate is nessasairy for a population size to remain constant. 
</p>

<!-- The JSON data of the fertility rate from http://data.worldbank.org/indicator/SP.DYN.TFRT.IN-->
<textarea id = "rawData">[["AUT", 1.44, "2.69", "2.78", "2.8", "2.82", "2.79", "2.7", "2.66", "2.62", "2.58", "2.49", "2.29", "2.2", "2.08", "1.94", "1.91", "1.83", "1.69", "1.63", "1.6", "1.6", "1.65", "1.67", "1.66", "1.56", "1.52", "1.47", "1.45", "1.43", "1.45", "1.45", "1.46", "1.51", "1.51", "1.5", "1.47", "1.42", "1.45", "1.39", "1.37", "1.34", "1.36", "1.33", "1.39", "1.38", "1.42", "1.41", "1.41", "1.38", "1.42", "1.39", "1.44", "1.43", "1.44"], ["BEL", 1.79, "2.54", "2.63", "2.59", "2.68", "2.71", "2.61", "2.52", "2.41", "2.31", "2.27", "2.25", "2.21", "2.09", "1.95", "1.83", "1.74", "1.73", "1.71", "1.69", "1.69", "1.68", "1.66", "1.61", "1.57", "1.54", "1.51", "1.54", "1.54", "1.57", "1.58", "1.62", "1.66", "1.65", "1.61", "1.56", "1.56", "1.59", "1.6", "1.6", "1.62", "1.67", "1.67", "1.65", "1.67", "1.72", "1.76", "1.8", "1.82", "1.85", "1.84", "1.86", "1.81", "1.79"], ["BGR", 1.5, "2.31", "2.29", "2.24", "2.21", "2.19", "2.09", "2.03", "2.02", "2.27", "2.27", "2.17", "2.1", "2.03", "2.15", "2.29", "2.23", "2.24", "2.21", "2.15", "2.16", "2.05", "2", "2.01", "2.01", "2.01", "1.97", "2.02", "1.96", "1.97", "1.9", "1.82", "1.66", "1.55", "1.46", "1.37", "1.23", "1.23", "1.09", "1.11", "1.23", "1.26", "1.21", "1.21", "1.23", "1.29", "1.32", "1.38", "1.49", "1.56", "1.66", "1.57", "1.51", "1.5"], ["CYP", 1.461, "3.5", "3.471", "3.421", "3.346", "3.249", "3.133", "3.01", "2.889", "2.779", "2.686", "2.61", "2.547", "2.491", "2.44", "2.393", "2.352", "2.323", "2.31", "2.312", "2.328", "2.354", "2.385", "2.415", "2.438", "2.453", "2.458", "2.456", "2.45", "2.442", "2.43", "2.411", "2.381", "2.337", "2.278", "2.206", "2.124", "2.035", "1.945", "1.86", "1.781", "1.714", "1.658", "1.613", "1.577", "1.549", "1.529", "1.514", "1.503", "1.493", "1.485", "1.478", "1.47", "1.465"], ["CZE", 1.45, "2.09", "2.11", "2.12", "2.31", "2.34", "2.18", "2.02", "1.91", "1.84", "1.87", "1.92", "2", "2.09", "2.31", "2.46", "2.43", "2.39", "2.34", "2.33", "2.27", "2.08", "2", "2", "1.97", "1.97", "1.95", "1.92", "1.91", "1.94", "1.87", "1.9", "1.86", "1.71", "1.67", "1.44", "1.28", "1.18", "1.17", "1.16", "1.13", "1.15", "1.15", "1.17", "1.18", "1.23", "1.29", "1.34", "1.45", "1.51", "1.51", "1.51", "1.43", "1.45"], ["DEU", 1.38, "2.37", "2.45", "2.44", "2.51", "2.54", "2.5", "2.53", "2.48", "2.38", "2.21", "2.03", "1.92", "1.71", "1.54", "1.51", "1.45", "1.45", "1.4", "1.38", "1.38", "1.44", "1.43", "1.41", "1.33", "1.29", "1.37", "1.43", "1.43", "1.46", "1.42", "1.45", "1.33", "1.29", "1.28", "1.24", "1.25", "1.3", "1.35", "1.36", "1.36", "1.38", "1.35", "1.34", "1.34", "1.36", "1.34", "1.33", "1.37", "1.38", "1.36", "1.39", "1.36", "1.38"], ["DNK", 1.73, "2.57", "2.55", "2.55", "2.67", "2.6", "2.61", "2.62", "2.35", "2.12", "2", "1.95", "2.04", "2.03", "1.92", "1.9", "1.92", "1.75", "1.66", "1.67", "1.6", "1.55", "1.44", "1.43", "1.38", "1.4", "1.45", "1.48", "1.5", "1.56", "1.62", "1.67", "1.68", "1.76", "1.75", "1.81", "1.8", "1.75", "1.75", "1.72", "1.73", "1.77", "1.74", "1.72", "1.76", "1.78", "1.8", "1.85", "1.84", "1.89", "1.84", "1.87", "1.75", "1.73"], ["ESP", 1.32, "2.86", "2.77", "2.8", "2.88", "3.01", "2.94", "2.91", "2.94", "2.87", "2.86", "2.84", "2.88", "2.86", "2.84", "2.89", "2.8", "2.79", "2.66", "2.54", "2.36", "2.2", "2.04", "1.94", "1.8", "1.73", "1.64", "1.56", "1.5", "1.45", "1.4", "1.36", "1.33", "1.32", "1.27", "1.2", "1.17", "1.16", "1.18", "1.16", "1.19", "1.23", "1.24", "1.25", "1.3", "1.31", "1.33", "1.36", "1.38", "1.45", "1.38", "1.37", "1.34", "1.32"], ["EST", 1.56, "1.98", "1.98", "1.95", "1.89", "1.94", "1.88", "1.87", "1.9", "2.03", "2.13", "2.17", "2.19", "2.13", "2.06", "2.07", "2.04", "2.07", "2.06", "2.02", "2", "2.02", "2.07", "2.07", "2.16", "2.17", "2.13", "2.18", "2.27", "2.27", "2.22", "2.05", "1.8", "1.71", "1.49", "1.42", "1.38", "1.37", "1.32", "1.28", "1.3", "1.36", "1.32", "1.36", "1.37", "1.47", "1.52", "1.58", "1.69", "1.72", "1.7", "1.72", "1.61", "1.56"], ["FIN", 1.8, "2.72", "2.72", "2.68", "2.68", "2.59", "2.48", "2.41", "2.32", "2.14", "1.93", "1.83", "1.68", "1.58", "1.49", "1.61", "1.68", "1.7", "1.68", "1.64", "1.64", "1.63", "1.64", "1.71", "1.74", "1.69", "1.64", "1.6", "1.59", "1.69", "1.71", "1.78", "1.79", "1.85", "1.81", "1.85", "1.81", "1.76", "1.75", "1.7", "1.73", "1.73", "1.73", "1.72", "1.76", "1.8", "1.8", "1.84", "1.83", "1.85", "1.86", "1.87", "1.83", "1.8"], ["FRA", 2.01, "2.85", "2.87", "2.89", "2.89", "2.87", "2.84", "2.8", "2.75", "2.69", "2.62", "2.55", "2.47", "2.38", "2.28", "2.18", "2.09", "2.01", "1.94", "1.89", "1.87", "1.85", "1.85", "1.86", "1.86", "1.86", "1.86", "1.85", "1.83", "1.81", "1.79", "1.77", "1.75", "1.74", "1.73", "1.73", "1.74", "1.75", "1.77", "1.78", "1.81", "1.89", "1.9", "1.88", "1.89", "1.92", "1.94", "2", "1.98", "2.01", "2", "2.03", "2.01", "2.01"], ["GBR", 1.92, "2.69", "2.78", "2.86", "2.88", "2.93", "2.86", "2.78", "2.68", "2.6", "2.51", "2.44", "2.41", "2.2", "2.04", "1.92", "1.81", "1.74", "1.69", "1.75", "1.86", "1.9", "1.82", "1.78", "1.77", "1.77", "1.79", "1.78", "1.81", "1.82", "1.79", "1.83", "1.82", "1.79", "1.76", "1.74", "1.71", "1.73", "1.72", "1.71", "1.68", "1.64", "1.63", "1.63", "1.7", "1.75", "1.76", "1.82", "1.86", "1.91", "1.89", "1.92", "1.91", "1.92"], ["GRC", 1.29, "2.23", "2.13", "2.16", "2.14", "2.24", "2.25", "2.32", "2.45", "2.42", "2.36", "2.4", "2.32", "2.32", "2.27", "2.38", "2.33", "2.35", "2.27", "2.28", "2.26", "2.23", "2.09", "2.03", "1.94", "1.83", "1.67", "1.6", "1.5", "1.5", "1.4", "1.4", "1.38", "1.39", "1.34", "1.35", "1.31", "1.28", "1.28", "1.26", "1.24", "1.27", "1.25", "1.27", "1.28", "1.3", "1.32", "1.4", "1.38", "1.47", "1.49", "1.51", "1.39", "1.34"], ["HUN", 1.34, "2.02", "1.94", "1.79", "1.82", "1.82", "1.82", "1.89", "2.01", "2.06", "2.04", "1.98", "1.93", "1.93", "1.93", "2.27", "2.35", "2.23", "2.15", "2.06", "2.01", "1.91", "1.88", "1.8", "1.75", "1.75", "1.85", "1.84", "1.82", "1.81", "1.82", "1.87", "1.87", "1.77", "1.68", "1.64", "1.57", "1.46", "1.37", "1.32", "1.28", "1.32", "1.31", "1.3", "1.27", "1.28", "1.31", "1.34", "1.32", "1.35", "1.32", "1.25", "1.26", "1.34"], ["IRL", 2.01, "3.78", "3.78", "3.92", "4.01", "4.07", "4.04", "3.94", "3.84", "3.77", "3.83", "3.85", "3.93", "3.84", "3.71", "3.59", "3.37", "3.29", "3.24", "3.21", "3.21", "3.21", "3.05", "2.94", "2.74", "2.58", "2.48", "2.44", "2.32", "2.17", "2.08", "2.11", "2.08", "1.99", "1.9", "1.85", "1.84", "1.88", "1.93", "1.94", "1.9", "1.89", "1.94", "1.97", "1.96", "1.93", "1.86", "1.91", "2.01", "2.06", "2.06", "2.05", "2.03", "2.01"], ["ITA", 1.43, "2.37", "2.42", "2.44", "2.5", "2.65", "2.59", "2.57", "2.5", "2.49", "2.46", "2.38", "2.4", "2.35", "2.3", "2.28", "2.17", "2.04", "1.93", "1.84", "1.73", "1.64", "1.58", "1.56", "1.51", "1.46", "1.42", "1.35", "1.33", "1.36", "1.33", "1.33", "1.3", "1.3", "1.25", "1.21", "1.19", "1.2", "1.21", "1.21", "1.23", "1.26", "1.25", "1.27", "1.29", "1.34", "1.34", "1.37", "1.4", "1.45", "1.45", "1.46", "1.44", "1.43"], ["LTU", 1.6, "2.56", "2.53", "2.45", "2.35", "2.28", "2.23", "2.22", "2.23", "2.24", "2.3", "2.4", "2.41", "2.34", "2.22", "2.21", "2.18", "2.18", "2.14", "2.08", "2.05", "1.99", "1.98", "1.97", "2.1", "2.07", "2.08", "2.12", "2.11", "2.02", "1.98", "2.03", "2.01", "1.97", "1.74", "1.57", "1.55", "1.49", "1.47", "1.46", "1.46", "1.39", "1.29", "1.23", "1.26", "1.27", "1.29", "1.33", "1.36", "1.45", "1.5", "1.5", "1.55", "1.6"], ["LUX", 1.57, "2.29", "", "2.37", "", "2.34", "2.42", "2.34", "2.24", "2.12", "2.02", "1.97", "1.95", "1.75", "1.58", "1.58", "1.55", "1.48", "1.5", "1.48", "1.48", "1.5", "1.55", "1.49", "1.43", "1.42", "1.38", "1.43", "1.4", "1.51", "1.52", "1.6", "1.6", "1.64", "1.7", "1.72", "1.7", "1.77", "1.71", "1.68", "1.74", "1.76", "1.66", "1.63", "1.62", "1.66", "1.63", "1.65", "1.61", "1.61", "1.59", "1.63", "1.52", "1.57"], ["LVA", 1.44, "1.94", "1.94", "1.91", "1.85", "1.79", "1.74", "1.76", "1.8", "1.83", "1.88", "1.96", "2", "2", "1.98", "1.97", "1.96", "1.93", "1.89", "1.87", "1.87", "1.86", "1.88", "1.97", "2.07", "2.09", "2.08", "2.12", "2.15", "2.11", "2.05", "2.02", "1.86", "1.73", "1.51", "1.39", "1.25", "1.16", "1.11", "1.09", "1.16", "1.25", "1.22", "1.26", "1.32", "1.29", "1.39", "1.46", "1.54", "1.58", "1.46", "1.36", "1.33", "1.44"], ["MLT", 1.43, "3.62", "3.27", "3.24", "2.9", "2.79", "2.52", "2.33", "2.24", "2.12", "2.02", "2.03", "2.06", "2.01", "1.65", "1.64", "2.27", "2.21", "2.14", "2.05", "2.1", "1.99", "1.87", "1.9", "1.92", "1.95", "1.95", "1.93", "1.97", "2.06", "2.1", "2.04", "2.04", "2.11", "2", "1.88", "1.81", "2.03", "1.98", "1.88", "1.77", "1.7", "1.48", "1.45", "1.48", "1.4", "1.38", "1.36", "1.35", "1.43", "1.42", "1.36", "1.45", "1.43"], ["NLD", 1.72, "3.12", "3.22", "3.18", "3.19", "3.17", "3.04", "2.9", "2.81", "2.72", "2.75", "2.57", "2.36", "2.15", "1.9", "1.77", "1.66", "1.63", "1.58", "1.58", "1.56", "1.6", "1.56", "1.5", "1.47", "1.49", "1.51", "1.55", "1.56", "1.55", "1.55", "1.62", "1.61", "1.59", "1.57", "1.57", "1.53", "1.53", "1.56", "1.63", "1.65", "1.72", "1.71", "1.73", "1.75", "1.72", "1.71", "1.72", "1.72", "1.77", "1.79", "1.79", "1.76", "1.72"], ["POL", 1.3, "2.98", "2.83", "2.72", "2.7", "2.57", "2.52", "2.34", "2.33", "2.24", "2.2", "2.2", "2.25", "2.24", "2.26", "2.26", "2.27", "2.3", "2.23", "2.21", "2.28", "2.28", "2.24", "2.34", "2.42", "2.37", "2.33", "2.22", "2.15", "2.13", "2.08", "2.06", "2.07", "1.95", "1.87", "1.81", "1.62", "1.59", "1.51", "1.44", "1.38", "1.37", "1.31", "1.25", "1.22", "1.23", "1.24", "1.27", "1.31", "1.39", "1.4", "1.38", "1.3", "1.3"], ["PRT", 1.28, "3.16", "3.21", "3.23", "3.12", "3.21", "3.15", "3.16", "3.16", "3.12", "3.12", "3.01", "3", "2.86", "2.77", "2.7", "2.75", "2.82", "2.69", "2.45", "2.31", "2.25", "2.13", "2.07", "1.95", "1.9", "1.72", "1.66", "1.62", "1.61", "1.57", "1.56", "1.56", "1.54", "1.52", "1.45", "1.41", "1.44", "1.47", "1.47", "1.5", "1.55", "1.45", "1.46", "1.44", "1.4", "1.41", "1.37", "1.35", "1.39", "1.34", "1.39", "1.35", "1.28"], ["ROU", 1.53, "2.34", "2.17", "2.04", "2.01", "1.96", "1.91", "1.9", "3.66", "3.63", "3.19", "2.89", "2.67", "2.55", "2.44", "2.71", "2.59", "2.54", "2.57", "2.52", "2.49", "2.43", "2.36", "2.17", "2.06", "2.26", "2.31", "2.39", "2.38", "2.3", "2.22", "1.83", "1.59", "1.51", "1.43", "1.4", "1.33", "1.3", "1.32", "1.32", "1.3", "1.31", "1.27", "1.27", "1.31", "1.35", "1.39", "1.4", "1.42", "1.53", "1.57", "1.54", "1.46", "1.53"], ["SVK", 1.34, "3.04", "2.96", "2.83", "2.92", "2.89", "2.78", "2.66", "2.48", "2.39", "2.43", "2.41", "2.43", "2.49", "2.56", "2.61", "2.55", "2.55", "2.49", "2.47", "2.45", "2.32", "2.29", "2.28", "2.28", "2.26", "2.26", "2.2", "2.14", "2.13", "2.07", "2.09", "2.05", "1.93", "1.87", "1.67", "1.52", "1.47", "1.43", "1.37", "1.33", "1.3", "1.2", "1.19", "1.2", "1.25", "1.27", "1.25", "1.27", "1.34", "1.44", "1.43", "1.45", "1.34"], ["SVN", 1.58, "2.324", "2.325", "2.33", "2.336", "2.34", "2.341", "2.336", "2.326", "2.312", "2.294", "2.273", "2.255", "2.239", "2.227", "2.218", "2.209", "2.195", "2.172", "2.138", "2.093", "2.039", "1.978", "1.93", "1.81", "1.74", "1.71", "1.67", "1.65", "1.63", "1.52", "1.46", "1.42", "1.33", "1.33", "1.32", "1.29", "1.28", "1.25", "1.23", "1.21", "1.26", "1.21", "1.21", "1.2", "1.25", "1.26", "1.31", "1.38", "1.53", "1.53", "1.57", "1.56", "1.58"], ["SWE", 1.91, "2.17", "2.21", "2.25", "2.33", "2.47", "2.39", "2.37", "2.28", "2.07", "1.93", "1.92", "1.96", "1.91", "1.87", "1.87", "1.77", "1.68", "1.64", "1.6", "1.66", "1.68", "1.63", "1.62", "1.61", "1.66", "1.74", "1.8", "1.84", "1.96", "2.01", "2.13", "2.11", "2.09", "1.99", "1.88", "1.73", "1.6", "1.52", "1.5", "1.5", "1.54", "1.57", "1.65", "1.71", "1.75", "1.77", "1.85", "1.88", "1.91", "1.94", "1.98", "1.9", "1.91"]]</textarea>

<!-- JSON data about current population sizes from : http://data.worldbank.org/indicator/SP.POP.TOTL -->
<textarea id="popData">[["AUT", "8534492"], ["BEL", "11225207"], ["BGR", "7226291"], ["CYP", "1153658"], ["CZE", "10510566"], ["DEU", "80889505"], ["DNK", "5639565"], ["ESP", "46404602"], ["EST", "1313645"], ["FIN", "5463596"], ["FRA", "66206930"], ["GBR", "64510376"], ["GRC", "10957740"], ["HUN", "9861673"], ["IRL", "4612719"], ["ITA", "61336387"], ["LTU", "2929323"], ["LUX", "556074"], ["LVA", "1990351"], ["MLT", "427404"], ["NLD", "16854183"], ["POL", "37995529"], ["PRT", "10397393"], ["ROU", "19910995"], ["SVK", "5418506"], ["SVN", "2062218"], ["SWE", "9689555"]]
</textarea>

<script src="d3map.js"></script>

</body>
</html>
